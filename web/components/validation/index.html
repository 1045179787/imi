<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>验证器-IMI Doc - mddoc</title>
    <!-- jQuery-->
    <script src="../../statics/plugin/jquery/jquery-1.12.0.min.js"></script>
	<!-- layui -->
    <link rel="stylesheet" href="../../statics/plugin/layui/css/layui.css" />
    <script src="../../statics/plugin/layui/layui.all.js"></script>
	<!-- zTree -->
    <link rel="stylesheet" href="../../statics/plugin/zTree/css/zTreeStyle/zTreeStyle.css" />
    <script src="../../statics/plugin/zTree/js/jquery.ztree.core.js"></script>
	<!-- SyntaxHighlighter -->
	<script src="../../statics/plugin/SyntaxHighlighter/shCore.js" type="text/javascript"></script>
	<link rel="stylesheet" type="text/css" href="../../statics/plugin/SyntaxHighlighter/shCoreDefault.css"/>
	<!-- 自定义 -->
    <link rel="stylesheet" href="../../statics/css/style.css" />
    <script src="../../statics/js/home.js"></script>
	<link rel="stylesheet" href="../../statics/css/docView.css" />
    <script src="../../statics/js/docView.js"></script>
</head>
<body>
	<!-- top-begin -->
	<div id="navbar">
		<ul class="layui-nav" lay-filter="">
			<div class="navRight">
				<li class="layui-nav-item" lay-unselect>
					<a id="btn-about" href="javascript:;">关于</a>
				</li>
			</div>
		</ul>
		<div class="nav-menu">
			<a href="../../" class="logo">IMI Doc</a>
			<a href="javascript:;" id="navMenuLeft"><i class="layui-icon">&#xe658;</i></a>
			<a href="javascript:;" id="navMenuRight"><i class="layui-icon">&#xe61a;</i></a>
		</div>
		<div class="clear"></div>
	</div>
	<script>
	function openMenuLeft()
	{
		$('#leftbar').addClass('show-item');
		$('#navMenuLeft').addClass('active');
	}
	function closeMenuLeft()
	{
		$('#leftbar').removeClass('show-item');
		$('#navMenuLeft').removeClass('active');
	}
	$('#navMenuLeft').click(function(){
		var isShow = $('#leftbar').hasClass('show-item');
		if(isShow)
		{
			closeMenuLeft();
		}
		else
		{
			closeMenuRight();
			openMenuLeft();
		}
	});
	function openMenuRight()
	{
		$('#navbar > .layui-nav').addClass('show-item')
		$('#navMenuRight').addClass('active').find('i').html('&#xe619;');
	}
	function closeMenuRight()
	{
		$('#navbar > .layui-nav').removeClass('show-item')
		$('#navMenuRight').removeClass('active').find('i').html('&#xe61a;');
	}
	$('#navMenuRight').click(function(){
		var isShow = $('#navbar > .layui-nav').hasClass('show-item');
		if(isShow)
		{
			closeMenuRight();
		}
		else
		{
			closeMenuLeft();
			openMenuRight();
		}
	});
	</script>
	<!-- top-end -->

	<!-- left-begin -->
	<div id="leftbar" class="layui-nav-side">
		<div class="layui-tab layui-tab-brief" style="margin-top:0">
			<ul class="layui-tab-title">
				<li class="layui-this"><i class="layui-icon">&#xe705;</i> 目录</li>
				<li><i class="layui-icon">&#xe615;</i> 搜索</li>
			</ul>
			<div class="layui-tab-content" style="padding:0;overflow-y: auto;position: relative;padding-top: 12px;box-sizing: border-box;">
				<div class="layui-tab-item layui-show">
					<ul id="treeDirectory" class="ztree showIcon"></ul>
				</div>
				<div class="layui-tab-item">
					<div class="searchBox">
						<div id="searchForm">
							<div class="inputBox">
								<input type="text" id="search-keyword" name="keyword" placeholder="搜索关键词" class="layui-input"/>
								<i class="layui-icon input-icon">&#xe615;</i>
							</div>
						</div>
						<ul id="treeSearch" class="ztree">
						</ul>
						<div class="searchResultNone">
							<i class="layui-icon">&#xe615;</i>
							<p>未搜索到结果</p>
						</div>
					</div>
				</div>
			</div>
			<div class="copyright noScroll">mddoc</div>
		</div>
	</div>
	<script id="searchListTemplate" type="text/html">
		{{#  layui.each(d, function(index, item){ }}
		<li>
			<a href="{{ item.url }}"><span>{{ item.title }}</span></a>
		</li>
		{{#  }) }}
	</script>
	<!-- left-end -->

	<div id="body">
		<div id="content_body" name="content_body" style="width:100%;height:100%;border:none;overflow: auto;">
            <div id="article-content" class="markdown-body">
				<script>
					function parseCatalogItem(item)
					{
						item.url = new Array(2 + 1).join('../') + item.url;
						return item;
					}
					document.title = '验证器-IMI Doc - mddoc';
					var currentCatalog = parseCatalogItem({"id":70,"parent_id":44,"title":"\u9a8c\u8bc1\u5668","mdFileName":"components\/validation\/index.md","url":"components\/validation\/index.html","level":1});
					var catalogList = [{"id":1,"parent_id":0,"title":"\u57fa\u7840\u5165\u95e8","level":0},{"id":2,"parent_id":1,"title":"\u5e8f\u8a00","mdFileName":"README.md","url":"index.html","level":1},{"id":3,"parent_id":1,"title":"\u4ecb\u7ecd","mdFileName":"base\/intro.md","url":"base\/intro.html","level":1},{"id":4,"parent_id":1,"title":"\u73af\u5883\u8981\u6c42","mdFileName":"base\/env.md","url":"base\/env.html","level":1},{"id":5,"parent_id":1,"title":"\u5f00\u59cb\u4e00\u4e2a\u65b0\u9879\u76ee","mdFileName":"base\/new.md","url":"base\/new.html","level":1},{"id":6,"parent_id":1,"title":"\u914d\u7f6e\u6587\u4ef6","mdFileName":"base\/config.md","url":"base\/config.html","level":1},{"id":7,"parent_id":0,"title":"\u6846\u67b6\u6838\u5fc3","level":0},{"id":8,"parent_id":7,"title":"\u751f\u547d\u5468\u671f","mdFileName":"core\/lifeCycle.md","url":"core\/lifeCycle.html","level":1},{"id":9,"parent_id":7,"title":"\u5bb9\u5668","mdFileName":"core\/container.md","url":"core\/container.html","level":1},{"id":10,"parent_id":7,"title":"\u4e8b\u4ef6","mdFileName":"core\/events.md","url":"core\/events.html","level":1},{"id":11,"parent_id":7,"title":"\u4e2d\u95f4\u4ef6","mdFileName":"core\/middleware.md","url":"core\/middleware.html","level":1},{"id":12,"parent_id":7,"title":"\u8fdb\u7a0b\u540d\u79f0\u7ba1\u7406","mdFileName":"core\/processNameManager.md","url":"core\/processNameManager.html","level":1},{"id":13,"parent_id":0,"title":"Http \u670d\u52a1","level":0},{"id":14,"parent_id":13,"title":"\u8def\u7531","mdFileName":"components\/httpserver\/route.md","url":"components\/httpserver\/route.html","level":1},{"id":15,"parent_id":13,"title":"\u4e2d\u95f4\u4ef6","mdFileName":"components\/httpserver\/middleware.md","url":"components\/httpserver\/middleware.html","level":1},{"id":16,"parent_id":13,"title":"\u63a7\u5236\u5668","mdFileName":"components\/httpserver\/controller.md","url":"components\/httpserver\/controller.html","level":1},{"id":17,"parent_id":13,"title":"RESTful","mdFileName":"components\/httpserver\/restful.md","url":"components\/httpserver\/restful.html","level":1},{"id":18,"parent_id":13,"title":"Session","mdFileName":"components\/httpserver\/session.md","url":"components\/httpserver\/session.html","level":1},{"id":19,"parent_id":13,"title":"\u89c6\u56fe","mdFileName":"components\/httpserver\/view.md","url":"components\/httpserver\/view.html","level":1},{"id":20,"parent_id":13,"title":"\u9519\u8bef\u5f02\u5e38\u5904\u7406","mdFileName":"components\/httpserver\/error.md","url":"components\/httpserver\/error.html","level":1},{"id":21,"parent_id":13,"title":"404\u5904\u7406","mdFileName":"components\/httpserver\/404.md","url":"components\/httpserver\/404.html","level":1},{"id":22,"parent_id":13,"title":"HTTP \u9a8c\u8bc1\u5668","mdFileName":"components\/httpserver\/validation.md","url":"components\/httpserver\/validation.html","level":1},{"id":23,"parent_id":0,"title":"WebSocket \u670d\u52a1","level":0},{"id":24,"parent_id":23,"title":"HTTP \u8def\u7531","mdFileName":"components\/websocketServer\/httpRoute.md","url":"components\/websocketServer\/httpRoute.html","level":1},{"id":25,"parent_id":23,"title":"HTTP \u63a7\u5236\u5668","mdFileName":"components\/websocketServer\/httpController.md","url":"components\/websocketServer\/httpController.html","level":1},{"id":26,"parent_id":23,"title":"WebSocket \u8def\u7531","mdFileName":"components\/websocketServer\/route.md","url":"components\/websocketServer\/route.html","level":1},{"id":27,"parent_id":23,"title":"WebSocket \u63a7\u5236\u5668","mdFileName":"components\/websocketServer\/websocketController.md","url":"components\/websocketServer\/websocketController.html","level":1},{"id":28,"parent_id":23,"title":"\u4e2d\u95f4\u4ef6","mdFileName":"components\/websocketServer\/middleware.md","url":"components\/websocketServer\/middleware.html","level":1},{"id":29,"parent_id":23,"title":"\u8fde\u63a5\u4e0a\u4e0b\u6587","mdFileName":"components\/websocketServer\/session.md","url":"components\/websocketServer\/session.html","level":1},{"id":30,"parent_id":23,"title":"\u8fde\u63a5\u5206\u7ec4","mdFileName":"components\/websocketServer\/group.md","url":"components\/websocketServer\/group.html","level":1},{"id":31,"parent_id":23,"title":"\u4e0d\u4f7f\u7528\u4e2d\u95f4\u4ef6","mdFileName":"components\/websocketServer\/noMiddleware.md","url":"components\/websocketServer\/noMiddleware.html","level":1},{"id":32,"parent_id":0,"title":"TCP \u670d\u52a1","level":0},{"id":33,"parent_id":32,"title":"\u8def\u7531","mdFileName":"components\/tcpServer\/route.md","url":"components\/tcpServer\/route.html","level":1},{"id":34,"parent_id":32,"title":"TCP \u63a7\u5236\u5668","mdFileName":"components\/tcpServer\/controller.md","url":"components\/tcpServer\/controller.html","level":1},{"id":35,"parent_id":32,"title":"\u4e2d\u95f4\u4ef6","mdFileName":"components\/tcpServer\/middleware.md","url":"components\/tcpServer\/middleware.html","level":1},{"id":36,"parent_id":32,"title":"\u8fde\u63a5\u4e0a\u4e0b\u6587","mdFileName":"components\/tcpServer\/session.md","url":"components\/tcpServer\/session.html","level":1},{"id":37,"parent_id":32,"title":"\u8fde\u63a5\u5206\u7ec4","mdFileName":"components\/tcpServer\/group.md","url":"components\/tcpServer\/group.html","level":1},{"id":38,"parent_id":32,"title":"\u4e0d\u4f7f\u7528\u4e2d\u95f4\u4ef6","mdFileName":"components\/tcpServer\/noMiddleware.md","url":"components\/tcpServer\/noMiddleware.html","level":1},{"id":39,"parent_id":0,"title":"UDP \u670d\u52a1","level":0},{"id":40,"parent_id":39,"title":"\u8def\u7531","mdFileName":"components\/udpServer\/route.md","url":"components\/udpServer\/route.html","level":1},{"id":41,"parent_id":39,"title":"UDP \u63a7\u5236\u5668","mdFileName":"components\/udpServer\/controller.md","url":"components\/udpServer\/controller.html","level":1},{"id":42,"parent_id":39,"title":"\u4e2d\u95f4\u4ef6","mdFileName":"components\/udpServer\/middleware.md","url":"components\/udpServer\/middleware.html","level":1},{"id":43,"parent_id":39,"title":"\u4e0d\u4f7f\u7528\u4e2d\u95f4\u4ef6","mdFileName":"components\/udpServer\/noMiddleware.md","url":"components\/udpServer\/noMiddleware.html","level":1},{"id":44,"parent_id":0,"title":"\u529f\u80fd\u7ec4\u4ef6","level":0},{"id":45,"parent_id":44,"title":"\u914d\u7f6e\u8bfb\u5199","mdFileName":"components\/config\/index.md","url":"components\/config\/index.html","level":1},{"id":46,"parent_id":44,"title":"\u8fde\u63a5\u6c60","mdFileName":"components\/pool\/index.md","url":"components\/pool\/index.html","level":1},{"id":47,"parent_id":44,"title":"\u6570\u636e\u5e93\u64cd\u4f5c","mdFileName":"components\/db\/index.md","url":"components\/db\/index.html","level":1},{"id":48,"parent_id":44,"title":"ORM","mdFileName":"components\/orm\/index.md","url":"components\/orm\/index.html","level":1},{"id":49,"parent_id":48,"title":"\u4f7f\u7528\u8bf4\u660e","mdFileName":"components\/orm\/index.md","url":"components\/orm\/index.html","level":2},{"id":50,"parent_id":48,"title":"\u6570\u636e\u8868\u6a21\u578b","mdFileName":"components\/orm\/RDModel.md","url":"components\/orm\/RDModel.html","level":2},{"id":51,"parent_id":50,"title":"\u4f7f\u7528\u65b9\u6cd5","mdFileName":"components\/orm\/RDModel.md","url":"components\/orm\/RDModel.html","level":3},{"id":52,"parent_id":50,"title":"\u6a21\u578b\u4e8b\u4ef6","mdFileName":"components\/orm\/RDModel\/event.md","url":"components\/orm\/RDModel\/event.html","level":3},{"id":53,"parent_id":48,"title":"\u6a21\u578b\u5173\u8054","mdFileName":"components\/orm\/relation\/index.md","url":"components\/orm\/relation\/index.html","level":2},{"id":54,"parent_id":53,"title":"\u4f7f\u7528\u8bf4\u660e","mdFileName":"components\/orm\/relation\/index.md","url":"components\/orm\/relation\/index.html","level":3},{"id":55,"parent_id":53,"title":"\u4e00\u5bf9\u4e00\u5173\u8054","mdFileName":"components\/orm\/relation\/oneToOne.md","url":"components\/orm\/relation\/oneToOne.html","level":3},{"id":56,"parent_id":53,"title":"\u4e00\u5bf9\u591a\u5173\u8054","mdFileName":"components\/orm\/relation\/oneToMany.md","url":"components\/orm\/relation\/oneToMany.html","level":3},{"id":57,"parent_id":53,"title":"\u591a\u5bf9\u591a\u5173\u8054","mdFileName":"components\/orm\/relation\/manyToMany.md","url":"components\/orm\/relation\/manyToMany.html","level":3},{"id":58,"parent_id":53,"title":"\u591a\u6001\u4e00\u5bf9\u4e00\u5173\u8054","mdFileName":"components\/orm\/relation\/polymorphicOneToOne.md","url":"components\/orm\/relation\/polymorphicOneToOne.html","level":3},{"id":59,"parent_id":53,"title":"\u591a\u6001\u4e00\u5bf9\u591a\u5173\u8054","mdFileName":"components\/orm\/relation\/polymorphicOneToMany.md","url":"components\/orm\/relation\/polymorphicOneToMany.html","level":3},{"id":60,"parent_id":53,"title":"\u591a\u6001\u591a\u5bf9\u591a\u5173\u8054","mdFileName":"components\/orm\/relation\/polymorphicManyToMany.md","url":"components\/orm\/relation\/polymorphicManyToMany.html","level":3},{"id":61,"parent_id":44,"title":"Redis","mdFileName":"components\/redis\/index.md","url":"components\/redis\/index.html","level":1},{"id":62,"parent_id":44,"title":"Redis \u6a21\u578b","mdFileName":"components\/orm\/RedisModel.md","url":"components\/orm\/RedisModel.html","level":1},{"id":63,"parent_id":44,"title":"\u5185\u5b58\u8868\u6a21\u578b","mdFileName":"components\/orm\/MemoryTableModel.md","url":"components\/orm\/MemoryTableModel.html","level":1},{"id":64,"parent_id":44,"title":"\u7f13\u5b58","mdFileName":"components\/cache\/index.md","url":"components\/cache\/index.html","level":1},{"id":65,"parent_id":64,"title":"\u4f7f\u7528\u8bf4\u660e","mdFileName":"components\/cache\/index.md","url":"components\/cache\/index.html","level":2},{"id":66,"parent_id":64,"title":"File","mdFileName":"components\/cache\/file.md","url":"components\/cache\/file.html","level":2},{"id":67,"parent_id":64,"title":"Redis","mdFileName":"components\/cache\/redis.md","url":"components\/cache\/redis.html","level":2},{"id":68,"parent_id":64,"title":"RedisHash","mdFileName":"components\/cache\/redisHash.md","url":"components\/cache\/redisHash.html","level":2},{"id":69,"parent_id":44,"title":"\u65e5\u5fd7","mdFileName":"components\/log\/index.md","url":"components\/log\/index.html","level":1},{"id":70,"parent_id":44,"title":"\u9a8c\u8bc1\u5668","mdFileName":"components\/validation\/index.md","url":"components\/validation\/index.html","level":1},{"id":71,"parent_id":44,"title":"Lock \u9501","mdFileName":"components\/lock\/index.md","url":"components\/lock\/index.html","level":1},{"id":72,"parent_id":71,"title":"\u4f7f\u7528\u65b9\u6cd5","mdFileName":"components\/lock\/index.md","url":"components\/lock\/index.html","level":2},{"id":73,"parent_id":71,"title":"RedisLock","mdFileName":"components\/lock\/redis.md","url":"components\/lock\/redis.html","level":2},{"id":74,"parent_id":71,"title":"AtomicLock","mdFileName":"components\/lock\/atomic.md","url":"components\/lock\/atomic.html","level":2},{"id":75,"parent_id":44,"title":"\u4e8b\u4ef6\u76d1\u542c","mdFileName":"components\/event\/index.md","url":"components\/event\/index.html","level":1},{"id":76,"parent_id":44,"title":"\u540e\u53f0\u4efb\u52a1","mdFileName":"components\/task\/index.md","url":"components\/task\/index.html","level":1},{"id":77,"parent_id":44,"title":"AOP","mdFileName":"components\/aop\/index.md","url":"components\/aop\/index.html","level":1},{"id":78,"parent_id":44,"title":"\u8fdb\u7a0b","mdFileName":"components\/process\/index.md","url":"components\/process\/index.html","level":1},{"id":79,"parent_id":44,"title":"\u8fdb\u7a0b\u6c60","mdFileName":"components\/process-pool\/index.md","url":"components\/process-pool\/index.html","level":1},{"id":80,"parent_id":44,"title":"\u70ed\u66f4\u65b0","mdFileName":"components\/hotupdate\/index.md","url":"components\/hotupdate\/index.html","level":1},{"id":81,"parent_id":44,"title":"Phar \u652f\u6301","mdFileName":"components\/phar\/index.md","url":"components\/phar\/index.html","level":1},{"id":82,"parent_id":0,"title":"\u6570\u636e\u7ed3\u6784","level":0},{"id":83,"parent_id":82,"title":"Atomic","mdFileName":"components\/struct\/atomic.md","url":"components\/struct\/atomic.html","level":1},{"id":84,"parent_id":82,"title":"Channel","mdFileName":"components\/struct\/co-channel.md","url":"components\/struct\/co-channel.html","level":1},{"id":85,"parent_id":82,"title":"MemoryTable","mdFileName":"components\/struct\/memory-table.md","url":"components\/struct\/memory-table.html","level":1},{"id":86,"parent_id":82,"title":"Enum","mdFileName":"components\/struct\/enum.md","url":"components\/struct\/enum.html","level":1},{"id":87,"parent_id":82,"title":"ArrayData","mdFileName":"components\/struct\/ArrayData.md","url":"components\/struct\/ArrayData.html","level":1},{"id":88,"parent_id":82,"title":"LazyArrayObject","mdFileName":"components\/struct\/LazyArrayObject.md","url":"components\/struct\/LazyArrayObject.html","level":1},{"id":89,"parent_id":82,"title":"ArrayList","mdFileName":"components\/struct\/ArrayList.md","url":"components\/struct\/ArrayList.html","level":1},{"id":90,"parent_id":82,"title":"FilterableList","mdFileName":"components\/struct\/FilterableList.md","url":"components\/struct\/FilterableList.html","level":1},{"id":91,"parent_id":0,"title":"\u5de5\u5177\u7c7b","level":0},{"id":92,"parent_id":91,"title":"\u5168\u5c40\u51fd\u6570","mdFileName":"utils\/functions.md","url":"utils\/functions.html","level":1},{"id":93,"parent_id":91,"title":"Imi","mdFileName":"utils\/Imi.md","url":"utils\/Imi.html","level":1},{"id":94,"parent_id":91,"title":"Args","mdFileName":"utils\/Args.md","url":"utils\/Args.html","level":1},{"id":95,"parent_id":91,"title":"ArrayUtil","mdFileName":"utils\/ArrayUtil.md","url":"utils\/ArrayUtil.html","level":1},{"id":96,"parent_id":91,"title":"Bit","mdFileName":"utils\/Bit.md","url":"utils\/Bit.html","level":1},{"id":97,"parent_id":91,"title":"ClassObject","mdFileName":"utils\/ClassObject.md","url":"utils\/ClassObject.html","level":1},{"id":98,"parent_id":91,"title":"Coroutine","mdFileName":"utils\/Coroutine.md","url":"utils\/Coroutine.html","level":1},{"id":99,"parent_id":91,"title":"File","mdFileName":"utils\/File.md","url":"utils\/File.html","level":1},{"id":100,"parent_id":91,"title":"ObjectArrayHelper","mdFileName":"utils\/ObjectArrayHelper.md","url":"utils\/ObjectArrayHelper.html","level":1},{"id":101,"parent_id":91,"title":"Random","mdFileName":"utils\/Random.md","url":"utils\/Random.html","level":1},{"id":102,"parent_id":91,"title":"Swoole","mdFileName":"utils\/Swoole.md","url":"utils\/Swoole.html","level":1},{"id":103,"parent_id":91,"title":"Text","mdFileName":"utils\/Text.md","url":"utils\/Text.html","level":1},{"id":104,"parent_id":91,"title":"Pagination","mdFileName":"utils\/Pagination.md","url":"utils\/Pagination.html","level":1},{"id":105,"parent_id":91,"title":"DateTime","mdFileName":"utils\/DateTime.md","url":"utils\/DateTime.html","level":1},{"id":106,"parent_id":91,"title":"KVStorage","mdFileName":"utils\/KVStorage.md","url":"utils\/KVStorage.html","level":1},{"id":107,"parent_id":91,"title":"ServerManage","mdFileName":"utils\/ServerManage.md","url":"utils\/ServerManage.html","level":1},{"id":108,"parent_id":0,"title":"\u6ce8\u89e3","level":0},{"id":109,"parent_id":108,"title":"\u6ce8\u5165\u503c\u6ce8\u89e3","mdFileName":"annotations\/injectValue.md","url":"annotations\/injectValue.html","level":1},{"id":110,"parent_id":108,"title":"\u65b9\u6cd5\u53c2\u6570\u8fc7\u6ee4\u5668","mdFileName":"annotations\/filterArg.md","url":"annotations\/filterArg.html","level":1},{"id":111,"parent_id":0,"title":"\u5f00\u53d1\u8005\u5de5\u5177","level":0},{"id":112,"parent_id":111,"title":"\u4ecb\u7ecd","mdFileName":"dev\/intro.md","url":"dev\/intro.html","level":1},{"id":113,"parent_id":111,"title":"\u670d\u52a1\u5668\u5de5\u5177","mdFileName":"dev\/server.md","url":"dev\/server.html","level":1},{"id":114,"parent_id":111,"title":"\u751f\u6210\u5de5\u5177","mdFileName":"dev\/generate.md","url":"dev\/generate.html","level":1},{"id":115,"parent_id":114,"title":"\u6a21\u578b\u751f\u6210","mdFileName":"dev\/generate\/model.md","url":"dev\/generate\/model.html","level":2},{"id":116,"parent_id":114,"title":"\u63a7\u5236\u5668\u751f\u6210","mdFileName":"dev\/generate\/controller.md","url":"dev\/generate\/controller.html","level":2},{"id":117,"parent_id":111,"title":"\u8fdb\u7a0b\u5de5\u5177","mdFileName":"dev\/process.md","url":"dev\/process.html","level":1},{"id":118,"parent_id":0,"title":"\u8fdb\u9636\u5f00\u53d1","level":0},{"id":119,"parent_id":118,"title":"\u6027\u80fd\u4f18\u5316","mdFileName":"adv\/performance.md","url":"adv\/performance.html","level":1},{"id":120,"parent_id":118,"title":"\u53c2\u4e0e\u6846\u67b6\u5f00\u53d1","mdFileName":"adv\/devp.md","url":"adv\/devp.html","level":1}];
					for(var i = 0; i < catalogList.length; ++i)
					{
						if(void 0 !== catalogList[i].url)
						{
							catalogList[i] = parseCatalogItem(catalogList[i]);
						}
					}
					initTree(catalogList);
				</script>
                <h1>验证器</h1><p>imi 提供了基本数据类型的验证，以及可扩展的验证方法，这一切都可以通过注解来使用。</p><h2>注解</h2><h3>@Condition</h3><p>通用验证条件，传入回调进行验证</p><p>该注解可以写在类、属性、方法上。</p><p>参数：</p><pre><code class="php">/**
 * 参数名称
 * 属性注解可省略
 *
 * @var string
 */
public $name;

/**
 * 当值不符合条件时的默认值
 *
 * @var mixed
 */
public $default;

/**
 * 对结果取反
 *
 * @var boolean
 */
public $inverseResult = false;

/**
 * 当验证条件不符合时的信息
 * 
 * 支持代入{:value}原始值
 * 支持代入{:data.xxx}所有数据中的某项
 * 支持以{name}这样的形式，代入注解参数值
 *
 * @var string
 */
public $message = '{name} validate failed';

/**
 * 验证回调
 *
 * @var callable
 */
public $callable;

/**
 * 参数名数组
 * 
 * 支持代入{:value}原始值
 * 支持代入{:data}所有数据
 * 支持代入{:data.xxx}所有数据中的某项
 * 支持以{name}这样的形式，代入注解参数值
 * 如果没有{}，则原样传值
 *
 * @var array
 */
public $args = ['{:value}'];

/**
 * 异常类
 *
 * @var string
 */
public $exception = null;

/**
 * 异常编码
 *
 * @var integer
 */
public $exCode = null;</code></pre><p><code>callable</code> 是验证回调，支持：</p><ul><li><code>&quot;is_int&quot;</code>、</li><li><code>&quot;XXX::check&quot;</code>、</li><li><code>{@Inject(&quot;BeanName&quot;), &quot;methodName&quot;}</code></li><li><code>{&quot;$this&quot;, &quot;methodName&quot;}</code>指定当前对象中的方法，但Http验证器中无法使用。</li><li>方法必须是<code>public</code>或<code>protected</code>。</li></ul><p><code>args</code> 是回调方法参数，例子：</p><pre><code class="php">class TestValidate
{
    public $abc = 'imi niubi!';

    /**
     * @AutoValidation
     * @Condition(name=&quot;argName&quot;, @callable({&quot;$this&quot;, &quot;validate&quot;}), args={&quot;{:value}&quot;, &quot;{:data}&quot;, &quot;{name}&quot;, &quot;{:data.a}&quot;, {&quot;:data.$this.abc&quot;}})
     */
    public function test($a, $b)
    {

    }

    /**
     * 本方法参数，由 @Condition 的 args 决定
     * $value 是当前验证参数对应的值，也就是 test() 方法中，$a 参数值
     * $data 是集合了 test() 方法中所有参数的数组
     * 你可以用 $data['b'] 获取 $b 参数值
     * $name 代表是 @Condition 中的 name 参数，同理可以取到注解中的其它参数值
     * $a 就是指定传入 test() 方法中 $a 参数值
     * $vvv 就是指定 test() 方法所在类对象中的 $abc 属性值
     */
    public function validate($value, $data, $name, $a, $vvv)
    {
        var_dump($value, $data, $name, $a, $vvv);
        return true;
    }
}</code></pre><p><code>inverseResult</code> 参数为<code>true</code>时，会对验证回调方法结果取反后，判断是否为true</p><p><code>message</code> 是验证失败的消息，可以将<code>{name}</code>形式的注解参数值代入，也可以使用<code>{:value}</code>代入验证值。</p><p><code>exception</code>和<code>exCode</code>可以设定验证失败时抛出的异常类及异常编码，默认为<code>\InvalidArgumentException</code>类。</p><p>除了<code>callable</code>和<code>args</code>以外，其它参数都可以作为其它验证条件注解（如：<code>@Required</code> 等）的参数</p><h3>@Required</h3><p>判断值是否存在</p><h3>@Text</h3><p>文本验证</p><p>必须&gt;=6位长度，最长不限制：</p><p><code>@Text(min=6)</code></p><p>长度必须&gt;=6 && &lt;=12：</p><p><code>@Text(min=6, max=12)</code></p><h3>@Integer</h3><p>整数验证</p><p>验证必须为整数：</p><p><code>@Integer</code></p><p>验证必须为&gt;=1024的整数：</p><p><code>@Integer(min=1024)</code></p><p>验证必须为&lt;=1024的整数：</p><p><code>@Integer(max=1024)</code></p><p>验证必须为&gt;=1 && &lt;=10的整数：</p><p><code>@Integer(min=1, max=10)</code></p><h3>@Decimal</h3><p>小数验证</p><p>验证必须为小数：</p><p><code>@Decimal</code></p><p>验证必须为&gt;=10.24的小数：</p><p><code>@Decimal(min=10.24)</code></p><p>验证必须为&lt;=10.24的小数：</p><p><code>@Decimal(max=10.24)</code></p><p>验证必须为&gt;=1 && &lt;=10.24的小数：</p><p><code>@Decimal(min=1, max=10.24)</code></p><blockquote>传入<code>1</code>，结果为<code>false</code></p><p>传入<code>1.0</code>，结果为<code>true</code></blockquote><h3>@Number</h3><p>数值验证，允许是整数或者小数</p><p>验证必须为数值：</p><p><code>@Decimal</code></p><p>验证必须为&gt;=10.24的数值：</p><p><code>@Decimal(min=10.24)</code></p><p>验证必须为&lt;=10.24的数值：</p><p><code>@Decimal(max=10.24)</code></p><p>验证必须为&gt;=1 && &lt;=10.24的数值：</p><p><code>@Decimal(min=1, max=10.24)</code></p><blockquote>传入<code>1</code>，结果为<code>true</code></p><p>传入<code>1.0</code>，结果为<code>true</code></blockquote><h3>@InList</h3><p>列表验证，判断值是否存在于列表中</p><p><code>@InList(list={1, 2, 3})</code></p><p>相当于：</p><pre><code class="php">$result = in_array($value, [1, 2, 3]);</code></pre><h3>@Compare</h3><p>比较验证注解</p><p><code>@Compare(name=&quot;参数名&quot;, value=&quot;被比较值&quot;, operation=&quot;比较符，如：==&quot;)</code></p><p><code>value</code> 可以直接传值，也可以配合 <code>@ValidateValue</code> 注解使用。</p><p><code>operation</code> 允许使用：<code>==、!=、===、!==、&lt;、&lt;=、&gt;、&gt;=</code></p><h3>@ValidateValue</h3><p>指定验证时的值注解</p><p><code>@Compare(name=&quot;id&quot;, value=@ValidateValue(&quot;{:data.id}&quot;), operation=&quot;==&quot;</code></p><h2>自动验证</h2><p>注解：<code>@AutoValidation</code></p><h3>验证类属性</h3><p>imi 支持在类、属性上使用 <code>@AutoValidation</code> 注解，当构造方法执行完毕后，触发验证。验证失败抛出异常。</p><p>如下代码，写在类上的注解以及属性上的注解，都因为加了<code>@AutoValidation</code> 注解，所以在构造方法执行完成后，会自动进行验证，验证失败则抛出异常。</p><pre><code class="php">/**
 * @Bean(&quot;ValidatorTest&quot;)
 * 
 * @AutoValidation
 * 
 * 
 * @InList(name=&quot;in&quot;, list={1, 2, 3}, message=&quot;{:value} 不在列表内&quot;)
 * @Integer(name=&quot;int&quot;, min=0, max=100, message=&quot;{:value} 不符合大于等于{min}且小于等于{max}&quot;)
 * @Required(name=&quot;required&quot;, message=&quot;{name}为必须参数&quot;)
 * @Number(name=&quot;number&quot;, min=0.01, max=999.99, accuracy=2, message=&quot;数值必须大于等于{min}，小于等于{max}，小数点最多保留{accuracy}位小数，当前值为{:value}&quot;)
 * @Text(name=&quot;text&quot;, min=6, max=12, message=&quot;{name}参数长度必须&gt;={min} &amp;&amp; &lt;={max}&quot;)
 * @Condition(name=&quot;my&quot;, callable=&quot;\ImiDemo\HttpDemo\MainServer\Validator\Test::myValidate&quot;, args={&quot;{:value}&quot;}, message=&quot;{name}值必须为1&quot;)
 */
class Test
{
    /**
     * @Decimal(min=-0.01, max=999.99, accuracy=2, message=&quot;小数必须大于等于{min}，小于等于{max}，小数点最多保留{accuracy}位小数，当前值为{:value}&quot;)
     *
     * @var float
     */
    public $decimal;

    public function __construct($data = [], $rules = null)
    {
        foreach($data as $name =&gt; $value)
        {
            $this-&gt;$name = $value;
        }
    }

    public static function myValidate($value)
    {
        return 1 == $value;
    }
}
</code></pre><h3>验证方法参数</h3><p>在 imi 中，如果你在方法上使用 <code>@AutoValidation</code> 注解，当方法被调用前，会触发验证操作，验证失败则抛出异常。验证的参数是传入方法的参数，如下代码，验证通过则进入方法体中，验证失败会抛出异常。</p><pre><code class="php">/**
 * @AutoValidation
 * 
 * @Required(name=&quot;id&quot;, message=&quot;用户ID为必传参数&quot;)
 * @Integer(name=&quot;id&quot;, min=&quot;1&quot;, message=&quot;用户ID不符合规则&quot;)
 * @Required(name=&quot;name&quot;, message=&quot;用户姓名为必传参数&quot;)
 * @Text(name=&quot;name&quot;, min=&quot;2&quot;, message=&quot;用户姓名长度不得少于2位&quot;)
 *
 * @param int $id
 * @param string $name
 * @return void
 */
public function test222($id, $name)
{
    var_dump($id, $name);
}</code></pre><h2>手动验证</h2><p>你也可以自己定义一个专门用于验证的类，将数据传入该类，手动调用验证方法。</p><pre><code class="php">/**
 * @Bean(&quot;ValidatorTest&quot;)
 * 
 * @InList(name=&quot;in&quot;, list={1, 2, 3}, message=&quot;{:value} 不在列表内&quot;)
 * @Integer(name=&quot;int&quot;, min=0, max=100, message=&quot;{:value} 不符合大于等于{min}且小于等于{max}&quot;)
 * @Required(name=&quot;required&quot;, message=&quot;{name}为必须参数&quot;)
 * @Number(name=&quot;number&quot;, min=0.01, max=999.99, accuracy=2, message=&quot;数值必须大于等于{min}，小于等于{max}，小数点最多保留{accuracy}位小数，当前值为{:value}&quot;)
 * @Text(name=&quot;text&quot;, min=6, max=12, message=&quot;{name}参数长度必须&gt;={min} &amp;&amp; &lt;={max}&quot;)
 * @Condition(name=&quot;my&quot;, callable=&quot;\ImiDemo\HttpDemo\MainServer\Validator\Test::myValidate&quot;, args={&quot;{:value}&quot;}, message=&quot;{name}值必须为1&quot;)
 */
class Test extends Validator
{
    /**
     * @Decimal(min=-0.01, max=999.99, accuracy=2, message=&quot;小数必须大于等于{min}，小于等于{max}，小数点最多保留{accuracy}位小数，当前值为{:value}&quot;)
     *
     * @var float
     */
    public $decimal;

    public function __construct($data = [], $rules = null)
    {
        parent::__construct($data, $rules);
        foreach($data as $name =&gt; $value)
        {
            $this-&gt;$name = $value;
        }
    }

    public static function myValidate($value)
    {
        return 1 == $value;
    }
}
</code></pre><p>当你使用手动验证时，可以直接<code>new</code>出来使用，不是很有必要使用容器。</p><p>使用代码示例：</p><pre><code class="php">$v = new Test([
    // 'decimal'   =&gt;  1.1,
    // 'in'        =&gt;  1,
    'int'       =&gt;  1,
    'required'  =&gt;  1,
    'number'    =&gt;  1,
    'my'        =&gt;  1,
]);

// 也可以设置数据
// $v-&gt;setData([]);

// 验证，当遇到不通过时结束验证流程
$result = $v-&gt;validate();
if(!$result)
{
    echo 'error: ', $v-&gt;getMessage(), PHP_EOL;
    // 当前错误的注解规则
    var_dump($v-&gt;getFailRule());
}

// 验证所有
$result = $v-&gt;validateAll();
if(!$result)
{
    var_dump(
        // 所有错误数组，注意每个成员也是个数组，里面可能有多个
        $v-&gt;getResults()
        // 所有错误的注解规则
        , $v-&gt;getFailRules()
    );
}

// 获得数据，如果你配置有default属性，并且验证失败，可以获得默认值
$data = $v-&gt;getData();</code></pre>			</div>
		</div>
	</div>

	<script>
		$(function(){
			var leftBarTimeout = null;
			$('#leftbar').hover(function(e){
				if(null !== leftBarTimeout)
				{
					clearTimeout(leftBarTimeout);
					leftBarTimeout = null;
				}
				if(e.type === 'mouseenter')
				{
					$('.left-show-hide').fadeIn(250);
				}
				else if($('#leftbar').css('left') == '0px')
				{
					$('.left-show-hide').fadeOut(500);
				}
			});
		});
		function showLeftbar()
		{
			$('#leftbar').css('left', 0);
			$('#body').css('padding-left','');
			$('.left-show-hide > i.layui-icon').html('&#xe603;');
		}
		function hideLeftbar()
		{
			$('#leftbar').css('left', '-240px');
			$('#body').css('padding-left',0);
			$('.left-show-hide > i.layui-icon').html('&#xe602;');
			$('.left-show-hide').fadeIn(250);
		}
		$('.left-show-hide').click(function(){
			if($('#leftbar').css('left') == '0px')
			{
				hideLeftbar();
			}
			else
			{
				showLeftbar();
			}
		})
	</script>
    <script src="../../statics/js/mddoc-search.js"></script>
</body>
</html>